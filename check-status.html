<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Check Job Status</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{text-align:center;font-family:Arial;background:#f5f8fb;padding:40px}
.box{background:white;padding:30px;border-radius:12px;max-width:400px;margin:auto}
input{width:100%;padding:12px;margin:10px 0}
button{padding:12px;background:#003366;color:white;border:none}
</style>
</head>
<body>

<div class="box">
<h2>Check Job Status</h2>
<input id="jobId" placeholder="Enter Job ID">
<button onclick="check()">Check</button>
<div id="result"></div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getFirestore, collection, query, where, getDocs } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

const firebaseConfig = {
 apiKey: "AIzaSyB8uRXxvOyZeCUzPEt-pUytXj_R8N_JLww",
 authDomain: "rightclick-service-center.firebaseapp.com",
 projectId: "rightclick-service-center",
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

window.check = async()=>{
 const id=document.getElementById("jobId").value.trim();
 const q=query(collection(db,"jobs"),where("jobId","==",id));
 const snap=await getDocs(q);
 const res=document.getElementById("result");

 if(snap.empty){res.innerHTML="No Job Found";return;}

 snap.forEach(d=>{
  const j=d.data();
  res.innerHTML=`
   <h3>Status : ${j.status}</h3>
   <p>Customer : ${j.customerName}</p>
   <p>Item : ${j.item}</p>
  `;
 });
}
</script>
</body>
</html>
